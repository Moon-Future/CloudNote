## Loader 和 Plugin 的区别？

`Loader` 本质就是一个函数，在该函数中对接收到的内容进行转换，返回转换后的结果。 因为 Webpack 只认识 JavaScript，所以 Loader 就成了翻译官，对其他类型的资源进行转译的预处理工作。

`Plugin` 就是插件，基于事件流框架 `Tapable`，插件可以扩展 Webpack 的功能，在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。

`Loader` 在 module.rules 中配置，作为模块的解析规则，类型为数组。每一项都是一个 Object，内部包含了 test(类型文件)、loader、options (参数)等属性。

`Plugin` 在 plugins 中单独配置，类型为数组，每一项是一个 Plugin 的实例，参数都通过构造函数传入。



## webpack 配置如何实现开发环境不使用 cdn、生产环境使用 cdn

[https://github.com/zhouzhili/blog/issues/2](https://github.com/zhouzhili/blog/issues/2)

```js
modules = {
    externals: {
        vue: 'Vue',
        vuex: 'Vuex',
        'element-ui': 'ELEMENT'
    },
    
    plugins: [
        new HtmlWebpackPlugin({
            filename: config.build.index,
            template: 'index.html',
            inject: true,
            cdn: {
                css:['https://cdn.bootcss.com/element-ui/2.8.2/theme-chalk/index.css'],
                js: [
                    'https://cdn.bootcss.com/vue/2.6.10/vue.min.js',
                    'https://cdn.bootcss.com/element-ui/2.8.2/index.js'
                ]
            }
        })
    ]
}
```

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title><%= htmlWebpackPlugin.options.title %></title>
	<!-- import cdn css -->
	<% if(htmlWebpackPlugin.options.cdn) {%>
		<% for(var css of htmlWebpackPlugin.options.cdn.css) { %>
			<link rel="stylesheet" href="<%=css%>">
		<% } %>
	<% } %>
</head>
<body>
	<div id="box"></div>
	<!-- import cdn js -->
	<% if(htmlWebpackPlugin.options.cdn) {%>
		<% for(var js of htmlWebpackPlugin.options.cdn.js) { %>
			<script src="<%=js%>"></script>
		<% } %>
	<% } %>
</body>
</html>
```

TODO：

**HtmlWebpackPlugin插件的编写**